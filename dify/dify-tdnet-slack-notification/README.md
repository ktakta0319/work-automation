# 適時開示情報取得

## 概要

TDnet（適時開示情報伝達サービス）のページを定期的に取得し、指定した証券コードの会社が公開した適時開示情報を要約してSlackに通知するDifyワークフローです。

## 機能

- **定期実行**: 平日（月〜金）の8時〜19時、毎時5分に自動実行
- **情報取得**: 直近1時間以内に公開された適時開示情報を取得
- **自動要約**: PDF文書をLLM（Groq）で300文字程度に要約
- **Slack通知**: 要約結果をSlackのIncoming Webhook経由で通知

## ワークフロー

1. **スケジュールトリガー**: 指定時刻にワークフローを起動
2. **TDnet URL生成**: 実行日のTDnetページURLを生成
3. **TDnetページ取得**: HTMLページを取得
4. **HTMLパース**: 指定証券コードの直近1時間の適時開示情報を抽出
5. **イテレーション処理**: 各適時開示情報に対して以下を実行
   - PDF取得
   - テキスト抽出
   - PDF要約（LLM使用）
   - Slack通知文面作成
   - Slack通知送信

## 監視対象証券コード（テスト用）

- `22690`: 明治HD
- `63900`: 加藤製造所
- `245A0`: INGS

## 環境変数

- `slack_incoming_webhook_url`: Slack Incoming Webhook URL（必須）

## 依存プラグイン

- `langgenius/slack:0.0.4`: Slack通知用
- `langgenius/groq:0.0.12`: LLM要約用

## 技術仕様

- **実行頻度**: 平日8:05〜19:05（毎時5分）
- **タイムゾーン**: Asia/Tokyo
- **LLMモデル**: llama-3.1-8b-instant（Groq）
- **要約文字数**: 約300文字

